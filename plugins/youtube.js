const { System, isPrivate, getJson, IronMan, getBuffer, toAudio, AddMp3Meta, extractUrlFromMessage, isUrl } = require('../lib/');
const config = require("../config");

System({ pattern: 'video ?(.*)', fromMe: isPrivate, desc: 'YouTube video downloader', type: 'download' }, async (message, match) => {
    function _0x175d(_0x2f39b8,_0x37e046){const _0xe07f34=_0x3b7c();return _0x175d=function(_0x4d01f3,_0x129935){_0x4d01f3=_0x4d01f3-(-0x65*0x1c+0xb22+-0x44*-0x2);let _0x4447d0=_0xe07f34[_0x4d01f3];return _0x4447d0;},_0x175d(_0x2f39b8,_0x37e046);}function _0x3b7c(){const _0x336497=['1034GKFyOf','chat','An\x20error\x20o','age','reply_mess','56929246wqnzdD','client','1708736jVxEFg','uTube\x20vide','&type=mp4','1211ILTLyJ','260JNLHrm','play?query','error','ironman/vi','text','35344feSOXf','\x20*Query*_','reply','4749LibNoX','12NUfgYW','downloader','982038YYdTyq','o\x20*Url*\x20or','deo?url=','2682726KEGFQn','_Give\x20a\x20Yo','/ytv?url=','ccurred:','263772bzkLGf','sendMessag','10uAMOZv'];_0x3b7c=function(){return _0x336497;};return _0x3b7c();}const _0x42fd1b=_0x175d;(function(_0x4a1976,_0x10b1b7){const _0x56be00=_0x175d,_0x42118c=_0x4a1976();while(!![]){try{const _0x10865a=-parseInt(_0x56be00(0xa3))/(-0x17ed+0x2*0xf95+0x39e*-0x2)+-parseInt(_0x56be00(0xad))/(-0x1820+-0x216c+0x398e)*(parseInt(_0x56be00(0xa0))/(-0x4*0x203+-0x16ad+0x2*0xf5e))+parseInt(_0x56be00(0xb4))/(0x1999*0x1+0x16c6+-0x305b)*(-parseInt(_0x56be00(0xac))/(-0x53e*-0x2+-0x89*0x25+0x956))+-parseInt(_0x56be00(0xa6))/(-0x769+-0x270+0x9df)+parseInt(_0x56be00(0xb7))/(0x26cb+0x128+0x49*-0x8c)*(-parseInt(_0x56be00(0xbd))/(-0xf91+0x1f91*-0x1+-0x2*-0x1795))+-parseInt(_0x56be00(0xaa))/(0x23d3+-0xa71+-0x1959)*(parseInt(_0x56be00(0xb8))/(0x2170+0x22*-0x6e+0x25*-0x82))+-parseInt(_0x56be00(0xb2))/(-0x1850+-0x6de*0x1+0x1f39)*(-parseInt(_0x56be00(0xa1))/(0xcb*0xe+0x1d0a+-0x1*0x2818));if(_0x10865a===_0x10b1b7)break;else _0x42118c['push'](_0x42118c['shift']());}catch(_0x4e4479){_0x42118c['push'](_0x42118c['shift']());}}}(_0x3b7c,0x3*-0x2c4d3+0x1*0x4fdef+0xba9c0));try{match=match||message[_0x42fd1b(0xb1)+_0x42fd1b(0xb0)][_0x42fd1b(0xbc)];if(!match)return await message[_0x42fd1b(0x9f)](_0x42fd1b(0xa7)+_0x42fd1b(0xb5)+_0x42fd1b(0xa4)+_0x42fd1b(0x9e));else{const matchUrl=extractUrlFromMessage(match);if(isUrl(matchUrl)){const api=IronMan(_0x42fd1b(0xa2)+_0x42fd1b(0xa8)+matchUrl),{title}=await getJson(api),videoResponse=await IronMan(_0x42fd1b(0xbb)+_0x42fd1b(0xa5)+matchUrl);await message[_0x42fd1b(0xb3)][_0x42fd1b(0xab)+'e'](message[_0x42fd1b(0xae)],{'video':{'url':videoResponse},'caption':''+title});}else{const playResponse=IronMan(_0x42fd1b(0xb9)+'='+match+_0x42fd1b(0xb6)),{url,title}=await getJson(playResponse);await message[_0x42fd1b(0xb3)][_0x42fd1b(0xab)+'e'](message[_0x42fd1b(0xae)],{'video':{'url':url},'caption':'*'+title+'*'});}}}catch(_0x3cfbf5){console[_0x42fd1b(0xba)](_0x42fd1b(0xaf)+_0x42fd1b(0xa9),_0x3cfbf5);}
});


System({ pattern: 'yta ?(.*)', fromMe: isPrivate, desc: 'YouTube audio downloader', type: 'download' }, async (message, match) => {
    const _0x12f0a6=_0x215a;(function(_0x10c8c6,_0x4f82ae){const _0x5b164f=_0x215a,_0x5c29b2=_0x10c8c6();while(!![]){try{const _0x2aa9d1=-parseInt(_0x5b164f(0xb4))/(0xb92*-0x2+-0xe6+-0x4cf*-0x5)*(-parseInt(_0x5b164f(0xb6))/(0x54d+0x9a9+0x13f*-0xc))+parseInt(_0x5b164f(0xa6))/(0xe57*-0x1+-0x648+0x14a2)*(-parseInt(_0x5b164f(0x9c))/(-0x20b9*-0x1+0x1823+-0x1c6c*0x2))+parseInt(_0x5b164f(0xb1))/(-0x1d29+0x12d8+0xa56)+parseInt(_0x5b164f(0x9a))/(0x63d*-0x3+-0x466*-0x3+0x58b)+-parseInt(_0x5b164f(0xb5))/(0xc9b*-0x3+-0x1*-0x335+0x22a3)*(-parseInt(_0x5b164f(0xb7))/(0x260+0xd58+-0x10*0xfb))+-parseInt(_0x5b164f(0xa2))/(0x20*-0xda+0x1378+0x29b*0x3)+parseInt(_0x5b164f(0xb2))/(-0x1*0x1b53+0x1511+0x64c);if(_0x2aa9d1===_0x4f82ae)break;else _0x5c29b2['push'](_0x5c29b2['shift']());}catch(_0x8e9111){_0x5c29b2['push'](_0x5c29b2['shift']());}}}(_0x100e,0x214f+-0x16*-0xce8+-0x4e103*-0x1));function _0x215a(_0x462e7a,_0x4623d4){const _0x1d9239=_0x100e();return _0x215a=function(_0x49e74e,_0x3ef4d2){_0x49e74e=_0x49e74e-(0xed+0x21b6+-0x220a*0x1);let _0x4cad0f=_0x1d9239[_0x49e74e];return _0x4cad0f;},_0x215a(_0x462e7a,_0x4623d4);}try{match=match||message[_0x12f0a6(0x9b)+_0x12f0a6(0xaa)][_0x12f0a6(0xb0)];if(!match)return await message[_0x12f0a6(0xb3)](_0x12f0a6(0xac)+_0x12f0a6(0xb8)+_0x12f0a6(0xaf)+_0x12f0a6(0xa8));else{const xmatchurl=extractUrlFromMessage(match);if(isUrl(match)){const audioUrl=await IronMan(_0x12f0a6(0xa9)+_0x12f0a6(0xa0)+xmatchurl),audioBuffer=await getBuffer(audioUrl),media=await toAudio(audioBuffer,_0x12f0a6(0xa3)),data=config[_0x12f0a6(0xa7)][_0x12f0a6(0xa5)](';'),name=data[-0xc30+-0x1*-0x121+-0x95*-0x13],author=data[0x137e*0x2+0x1fb0+-0x46ab],image=data[0x1*-0xf0e+0x499+0xa77],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x12f0a6(0xa1)][_0x12f0a6(0xae)+'e'](message[_0x12f0a6(0x9d)],{'audio':aud,'mimetype':_0x12f0a6(0xad)});}else{const xapi=IronMan(_0x12f0a6(0xab)+'='+match+_0x12f0a6(0x99)),{url}=await getJson(xapi),buff=await getBuffer(url),media=await toAudio(buff,_0x12f0a6(0xa3)),data=config[_0x12f0a6(0xa7)][_0x12f0a6(0xa5)](';'),name=data[0x602+-0x126d*0x1+-0xbb*-0x11],author=data[-0x578+0x2ef*0x7+-0x8*0x1e2],image=data[-0x233*0xb+0x2635+-0xe02],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x12f0a6(0xa1)][_0x12f0a6(0xae)+'e'](message[_0x12f0a6(0x9d)],{'audio':aud,'mimetype':_0x12f0a6(0xad)});}}}catch(_0x591b85){console[_0x12f0a6(0xa4)](_0x12f0a6(0x9e)+_0x12f0a6(0x9f),_0x591b85);}function _0x100e(){const _0x5e005e=['client','875385DrPkDE','mp4','error','split','126VAVVFH','AUDIO_DATA','\x20*Query*_','ironman/vi','age','play?query','_Give\x20a\x20Yo','audio/mpeg','sendMessag','o\x20*Url*\x20or','text','266850NioWhg','980720bWMwAN','reply','31822VyrblL','329jQWowJ','12UwEWfy','71512xYbGcJ','uTube\x20vide','&type=mp4','352956lJhUVt','reply_mess','30772jvrZOL','jid','An\x20error\x20o','ccurred:','deo?url='];_0x100e=function(){return _0x5e005e;};return _0x100e();}
});

System({ pattern: 'ytv ?(.*)', fromMe: isPrivate, desc: 'YouTube video downloader', type: 'download' }, async (message, match) => {
   function _0x175d(_0x2f39b8,_0x37e046){const _0xe07f34=_0x3b7c();return _0x175d=function(_0x4d01f3,_0x129935){_0x4d01f3=_0x4d01f3-(-0x65*0x1c+0xb22+-0x44*-0x2);let _0x4447d0=_0xe07f34[_0x4d01f3];return _0x4447d0;},_0x175d(_0x2f39b8,_0x37e046);}function _0x3b7c(){const _0x336497=['1034GKFyOf','chat','An\x20error\x20o','age','reply_mess','56929246wqnzdD','client','1708736jVxEFg','uTube\x20vide','&type=mp4','1211ILTLyJ','260JNLHrm','play?query','error','ironman/vi','text','35344feSOXf','\x20*Query*_','reply','4749LibNoX','12NUfgYW','downloader','982038YYdTyq','o\x20*Url*\x20or','deo?url=','2682726KEGFQn','_Give\x20a\x20Yo','/ytv?url=','ccurred:','263772bzkLGf','sendMessag','10uAMOZv'];_0x3b7c=function(){return _0x336497;};return _0x3b7c();}const _0x42fd1b=_0x175d;(function(_0x4a1976,_0x10b1b7){const _0x56be00=_0x175d,_0x42118c=_0x4a1976();while(!![]){try{const _0x10865a=-parseInt(_0x56be00(0xa3))/(-0x17ed+0x2*0xf95+0x39e*-0x2)+-parseInt(_0x56be00(0xad))/(-0x1820+-0x216c+0x398e)*(parseInt(_0x56be00(0xa0))/(-0x4*0x203+-0x16ad+0x2*0xf5e))+parseInt(_0x56be00(0xb4))/(0x1999*0x1+0x16c6+-0x305b)*(-parseInt(_0x56be00(0xac))/(-0x53e*-0x2+-0x89*0x25+0x956))+-parseInt(_0x56be00(0xa6))/(-0x769+-0x270+0x9df)+parseInt(_0x56be00(0xb7))/(0x26cb+0x128+0x49*-0x8c)*(-parseInt(_0x56be00(0xbd))/(-0xf91+0x1f91*-0x1+-0x2*-0x1795))+-parseInt(_0x56be00(0xaa))/(0x23d3+-0xa71+-0x1959)*(parseInt(_0x56be00(0xb8))/(0x2170+0x22*-0x6e+0x25*-0x82))+-parseInt(_0x56be00(0xb2))/(-0x1850+-0x6de*0x1+0x1f39)*(-parseInt(_0x56be00(0xa1))/(0xcb*0xe+0x1d0a+-0x1*0x2818));if(_0x10865a===_0x10b1b7)break;else _0x42118c['push'](_0x42118c['shift']());}catch(_0x4e4479){_0x42118c['push'](_0x42118c['shift']());}}}(_0x3b7c,0x3*-0x2c4d3+0x1*0x4fdef+0xba9c0));try{match=match||message[_0x42fd1b(0xb1)+_0x42fd1b(0xb0)][_0x42fd1b(0xbc)];if(!match)return await message[_0x42fd1b(0x9f)](_0x42fd1b(0xa7)+_0x42fd1b(0xb5)+_0x42fd1b(0xa4)+_0x42fd1b(0x9e));else{const matchUrl=extractUrlFromMessage(match);if(isUrl(matchUrl)){const api=IronMan(_0x42fd1b(0xa2)+_0x42fd1b(0xa8)+matchUrl),{title}=await getJson(api),videoResponse=await IronMan(_0x42fd1b(0xbb)+_0x42fd1b(0xa5)+matchUrl);await message[_0x42fd1b(0xb3)][_0x42fd1b(0xab)+'e'](message[_0x42fd1b(0xae)],{'video':{'url':videoResponse},'caption':''+title});}else{const playResponse=IronMan(_0x42fd1b(0xb9)+'='+match+_0x42fd1b(0xb6)),{url,title}=await getJson(playResponse);await message[_0x42fd1b(0xb3)][_0x42fd1b(0xab)+'e'](message[_0x42fd1b(0xae)],{'video':{'url':url},'caption':'*'+title+'*'});}}}catch(_0x3cfbf5){console[_0x42fd1b(0xba)](_0x42fd1b(0xaf)+_0x42fd1b(0xa9),_0x3cfbf5);}
});


System({ pattern: 'song ?(.*)', fromMe: isPrivate, desc: 'YouTube audio downloader', type: 'download' }, async (message, match) => {
   const _0x57dd66=_0x6d25;function _0x1bf7(){const _0x2da017=['6rQFtew','error','text','2081130RwDEzG','AUDIO_DATA','ery\x20eg\x20:\x20l','&type=mp4','audio/mpeg','_Give\x20a\x20Qu','10ZgrRoS','1678340zPzMVW','398xWNPKK','reply_mess','12003993hwovhP','ife\x20waster','An\x20error\x20o','5079ZnkJnC','mp4','reply','client','ccurred:','12562168zoNvMC','14913558YErGLq','split','ironman/vi','deo?url=','age','play?query','sendMessag','7nMZTZf','1375210MzUkRU','jid'];_0x1bf7=function(){return _0x2da017;};return _0x1bf7();}function _0x6d25(_0x51352f,_0x4329af){const _0x3f7a84=_0x1bf7();return _0x6d25=function(_0x5b73b1,_0x34b30a){_0x5b73b1=_0x5b73b1-(0xc7c+-0x116d+0x65e);let _0x3231c4=_0x3f7a84[_0x5b73b1];return _0x3231c4;},_0x6d25(_0x51352f,_0x4329af);}(function(_0x1c1ba9,_0xbb901f){const _0x3cfde5=_0x6d25,_0x549f7e=_0x1c1ba9();while(!![]){try{const _0x4d3794=parseInt(_0x3cfde5(0x16d))/(0x525*-0x2+-0x231a+-0x1*-0x2d65)+parseInt(_0x3cfde5(0x17a))/(0x1b22*-0x1+-0x59*0x25+-0x5b7*-0x7)*(parseInt(_0x3cfde5(0x17f))/(0x3b*0x42+0x1821+-0x2754*0x1))+parseInt(_0x3cfde5(0x179))/(-0x1*0x653+0x223*0x5+0x1*-0x458)+parseInt(_0x3cfde5(0x172))/(-0x7*0x2df+-0xd*-0x26c+-0xb5e)*(parseInt(_0x3cfde5(0x16f))/(-0x229f+0x1*0xa4+-0x2201*-0x1))+parseInt(_0x3cfde5(0x18c))/(0x224b*-0x1+-0x31*0x31+0x2bb3)*(-parseInt(_0x3cfde5(0x184))/(0xc78+-0x244+-0xa2c))+parseInt(_0x3cfde5(0x17c))/(-0x1*-0xfb7+0xe0f*-0x1+-0x19f)*(parseInt(_0x3cfde5(0x178))/(-0x173a+-0x2091+0x37d5))+-parseInt(_0x3cfde5(0x185))/(-0x12d1*-0x2+-0x8ef*0x1+-0x1ca8);if(_0x4d3794===_0xbb901f)break;else _0x549f7e['push'](_0x549f7e['shift']());}catch(_0x41ce9c){_0x549f7e['push'](_0x549f7e['shift']());}}}(_0x1bf7,0x1*-0x1cf87b+-0x1*0x1298a7+-0x3e262a*-0x1));try{match=match||message[_0x57dd66(0x17b)+_0x57dd66(0x189)][_0x57dd66(0x171)];if(!match)return await message[_0x57dd66(0x181)](_0x57dd66(0x177)+_0x57dd66(0x174)+_0x57dd66(0x17d)+'_');else{const xmatchurl=extractUrlFromMessage(match);if(isUrl(match)){const audioUrl=await IronMan(_0x57dd66(0x187)+_0x57dd66(0x188)+xmatchurl),audioBuffer=await getBuffer(audioUrl),media=await toAudio(audioBuffer,_0x57dd66(0x180)),data=config[_0x57dd66(0x173)][_0x57dd66(0x186)](';'),name=data[-0xc4f+0x1acb+-0xe7c],author=data[-0x262f+0x2*-0x8ad+-0x378a*-0x1],image=data[0x2087+0x11*0x24b+-0x4780],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x57dd66(0x182)][_0x57dd66(0x18b)+'e'](message[_0x57dd66(0x16e)],{'audio':aud,'mimetype':_0x57dd66(0x176)});}else{const xapi=IronMan(_0x57dd66(0x18a)+'='+match+_0x57dd66(0x175)),{url}=await getJson(xapi),buff=await getBuffer(url),media=await toAudio(buff,_0x57dd66(0x180)),data=config[_0x57dd66(0x173)][_0x57dd66(0x186)](';'),name=data[0x1*-0xfc5+0x1*0x23bb+0x2*-0x9fb],author=data[-0x1e67+-0x1*-0xb89+0x12df],image=data[0x2*0x51b+-0x11f0+0x7bc],img=await getBuffer(image),aud=await AddMp3Meta(media,img,{'title':name,'body':author});await message[_0x57dd66(0x182)][_0x57dd66(0x18b)+'e'](message[_0x57dd66(0x16e)],{'audio':aud,'mimetype':_0x57dd66(0x176)});}}}catch(_0x126919){console[_0x57dd66(0x170)](_0x57dd66(0x17e)+_0x57dd66(0x183),_0x126919);}
});
